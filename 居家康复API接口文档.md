# 居家康复API接口文档

## 获取用户名称和计划表的接口

> 维护人员：程珍勇
>
> 创建时间：2020-11-03

### 接口简介

查询数据库中用户名称和计划表

### 接口详情

#### 请求地址

/get_user_plan/:id

#### 请求类型

GET

#### 请求参数

| 参数名 | 类型   | 必填 | 描述         |
| ------ | ------ | ---- | ------------ |
| id     | string | 是   | 用户的唯一id |

#### 返回正确JSON示例

```node.js
{
	"status": {
		"code": 200,
		"msg": "ok"
	},
	"data": {
		"id": "",               //用户id
		"name": "zhangsan",     //用户名称
		"planTable": [          //数组中的每一个数组为一次日程表
			[                   //第一天的日程表，包含当天的一组课程
				{
					"name": "拉伸",
					"logo": "...",
				    "id": "暂无",  //课程的唯一id
				    "length": 13,       //课程的总进度
				    "now": 1            //课程的当天进度，默认为0，值小于等于总进度
				},
				{
				    ...
				},
				...
			],
		        [...],   //第二天日程表
		        ...
		],
		"date":""
	}
}
```

#### 返回错误JSON示例

```
{
	"status": {
		"code": 500,
		"msg": "error"
	}
}
```

#### 备注说明

暂无

#### 修改日志

- 【2020-11-8】

  修改planTable为一个array数组，新增date开始康复计划时间字段

- 【2020-11-15】

  planTable中的对象增加name和logo字段





## 获取课程名称和安排表的接口

> 维护人员：裴雷
>
> 创建时间：2020-11-03

### 接口简介

查询数据库中课程名称和课程安排表

### 接口详情

#### 请求地址

/get_course_plan/:id

#### 请求类型

GET

#### 请求参数

| 参数名 | 类型   | 必填 | 描述         |
| ------ | ------ | ---- | ------------ |
| id     | string | 是   | 课程的唯一id |

#### 返回正确JSON示例

```node.js
{
	"status": {
		"code": 200,
		"msg": "ok"
	},
	"data": {
		"id": "",             //课程id
		"name": "暂无",        //课程名称
		"length": 13，        //课程的总进度
		"actions": [          //包含一次课程需要完成的动作
			{
				"id":""       //动作的id
			},
			{},
			...
		],
		"logo":"",            //课程logo的url
		"info":"暂无"          //课程介绍
	}
}
```

#### 返回错误JSON示例

```node.js
{
	"status": {
		"code": 500,
		"msg": "error"
	}
}
```

#### 备注说明

暂无

#### 修改日志

- 【2020-11-08】

  actions里的数组调整为对象类型，并新增了length, logo, info三个字段





## 获取动作名称接口

> 维护人员：程珍勇
>
> 创建时间：2020-11-03

### 接口简介

查询数据库中每个动作对应的名称

### 接口详情

#### 请求地址

/get_action_detail/:actionId

#### 请求类型

GET

#### 请求参数

| 参数名   | 类型   | 必填 | 描述         |
| -------- | ------ | ---- | ------------ |
| actionId | string | 是   | 动作的唯一id |

#### 返回正确JSON示例

```node.js
{
	"status": {
		"code": 200,
		"msg": "ok"
	},
	"data": {
		"id":"",              //动作id
		"point":"",           //动作要点
		"info": "暂无",       //动作详情
		"logo":""             //动作logo的url
		"video":""            //动作视频的url
	}
}
```

#### 返回错误JSON示例

```
{
	"status": {
		"code": 500,
		"msg": "error"
	}
}
```

#### 备注说明

暂无

#### 修改日志

- 【2020-11-08】

  删除了actionName字段，新增了id, logo, video字段
